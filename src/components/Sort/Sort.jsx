import React from 'react';
import styles from './Sort.module.css';

const Sort = ({ sortPrice, setSortPrice }) => {
  const [open, setOpen] = React.useState(false);
  const list = ['price', 'asc price', 'desc price'];

  const sortName = list[sortPrice];

  const selectedItemList = (i) => {
    setSortPrice(i);
    setOpen(false);
  };

  return (
    <div className={styles.sort}>
      <div className={styles.sortLabel}>
        {sortPrice === 2 ? (
          <svg
            onClick={() => setOpen(!open)}
            width="30"
            height="29"
            viewBox="0 0 30 29"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              fillRule="evenodd"
              clipRule="evenodd"
              d="M29 12.014H15C14.447 12.014 14 12.462 14 13.015C14 13.567 14.447 14 15 14L29 14.016C29.553 14.016 30 13.567 30 13.015C30 12.462 29.553 12.014 29 12.014ZM29 6.007H15C14.447 6.007 14 6.455 14 7.008C14 7.561 14.447 8 15 8H29C29.553 8 30 7.561 30 7.008C30 6.455 29.553 6.007 29 6.007ZM29 18.021H21C20.447 18.021 20 18.469 20 19.021C20 19.574 20.447 20 21 20H29C29.553 20 30 19.574 30 19.021C30 18.469 29.553 18.021 29 18.021ZM29 24.027H17C16.447 24.027 16 24.476 16 25.028C16 25.581 16.447 26.029 17 26.029L29 26C29.553 26 30 25.581 30 25.028C30 24.476 29.553 24.027 29 24.027ZM15 2.002L29 2C29.553 2 30 1.554 30 1.001C30 0.448 29.553 0 29 0H15C14.447 0 14 0.448 14 1.001C14 1.554 14.447 2.002 15 2.002ZM16.687 18.303C16.295 17.909 15.659 17.909 15.268 18.303L10 24.364V0H8.00001V24.4L2.70101 18.303C2.31001 17.909 1.67401 17.909 1.28201 18.303C0.890007 18.697 0.890007 19.335 1.28201 19.729L8.22401 27.717C8.43401 27.927 8.71101 28.017 8.98401 28.002C9.25801 28.017 9.53501 27.927 9.74501 27.717L16.687 19.729C17.079 19.335 17.079 18.697 16.687 18.303Z"
              fill="black"
            />
          </svg>
        ) : (
          <svg
            onClick={() => setOpen(!open)}
            width="30"
            height="29"
            viewBox="0 0 30 29"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              fillRule="evenodd"
              clipRule="evenodd"
              d="M29 14.984H15C14.447 14.984 14 15.433 14 15.985C14 16.538 14.447 16.986 15 16.986H29C29.553 16.986 30 16.538 30 15.985C30 15.433 29.553 14.984 29 14.984ZM29 8.978L21 9C20.447 9 20 9.426 20 9.979C20 10.532 20.447 11 21 11L29 10.979C29.553 10.979 30 10.532 30 9.979C30 9.426 29.553 8.978 29 8.978ZM29 20.991H15C14.447 20.991 14 21.439 14 21.992C14 22.545 14.447 22.993 15 22.993H29C29.553 22.993 30 22.545 30 21.992C30 21.439 29.553 20.991 29 20.991ZM17 5H29C29.553 5 30 4.525 30 3.973C30 3.419 29.553 2.971 29 2.971H17C16.447 2.971 16 3.419 16 3.973C16 4.525 16.447 5 17 5ZM16.687 10.697C17.079 10.304 17.079 9.666 16.687 9.271L9.74498 1.283C9.53498 1.073 9.25798 0.983001 8.98398 0.998001C8.71098 0.983001 8.43398 1.073 8.22398 1.283L1.28198 9.271C0.889976 9.666 0.889976 10.304 1.28198 10.697C1.67398 11.091 2.30998 11.091 2.70098 10.697L7.99998 4.601V29H9.99998V4.636L15.268 10.697C15.659 11.091 16.295 11.091 16.687 10.697ZM29 27H15C14.447 27 14 27.446 14 27.999C14 28.552 14.447 29 15 29H29C29.553 29 30 28.552 30 27.999C30 27.446 29.553 27 29 27Z"
              fill="black"
            />
          </svg>
        )}
        <div className="div">
          <b>Sort by:</b>
          <span onClick={() => setOpen(!open)} className={styles.selected}>
            {sortName}
          </span>
          <div className={styles.sortPopuup}>
            {open && (
              <ul>
                {list.map((name, i) => (
                  <li
                    onClick={() => selectedItemList(i)}
                    key={i}
                    className={sortPrice === i ? styles.active : styles.list}
                  >
                    {name}
                  </li>
                ))}
              </ul>
            )}
          </div>
        </div>
      </div>
    </div>
  );
};

export default Sort;
